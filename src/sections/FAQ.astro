---
// import FaqImage from "@/assets/images/faq.webp"
import FaqImage from "@/assets/images/gallery/gallery_04.webp"
import WaveSeparator from "@/components/WaveSeparator.astro"
import { Image } from "astro:assets"
---

<section id="faq">
  <div class="mx-auto max-w-7xl px-6 py-24 sm:pt-32 lg:px-8 lg:py-40">
    <div class="lg:grid lg:grid-cols-12 lg:gap-8">
      <div
        class="flex flex-col items-center justify-center sm:gap-y-4 lg:col-span-5 lg:items-start"
      >
        <h2 class="text-3xl font-semibold tracking-tight text-pretty text-white sm:text-4xl text-center lg:text-left">
          Preguntas
          <span class="magic relative inline-block">
            <span class="magic-star">
              <svg viewBox="0 0 512 512">
                <path
                  d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z"
                ></path>
              </svg>
            </span>
            <span class="magic-star">
              <svg viewBox="0 0 512 512">
                <path
                  d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z"
                ></path>
              </svg>
            </span>
            <span class="magic-star">
              <svg viewBox="0 0 512 512">
                <path
                  d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z"
                ></path>
              </svg>
            </span>
            <span class="magic-text">frecuentes</span>
          </span>
        </h2>
        <div
          class="card group relative mt-4 bg-cover bg-center outline-0 transition-transform duration-100"
          data-color="have"
        >
          <Image
            src={FaqImage}
            width={384}
            height={576}
            alt="Lola Lolita firmando autógrafos en un escenario."
            class="card-front-image card-image h-auto w-full max-w-sm rounded-[2rem]"
          />
          <div class="card-faders">
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos1"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos2"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos3"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos4"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos5"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos6"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos7"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
            <Image
              width={384}
              height={576}
              alt={"Lola Lolita firmmando autografos8"}
              class="card-fader card-image rounded-[2rem]"
              src={FaqImage}
            />
          </div>
        </div>
      </div>
      <div class="pt-[68px] lg:col-span-7 lg:mt-0">
        <dl class="space-y-10">
          <div class="bg-theme-blue rounded-t-xl relative" data-card-faq>
            <dt class="font-semibold text-white px-4 pt-4">¿Pueden ir menores de edad al evento?</dt>
            <hr class="my-2 mx-4 text-primary" data-card-hr />
            <dd class="mt-1 max-w-2xl text-sm text-pretty text-pink-100 px-4 pb-6">
              Sí, los menores de edad pueden asistir al evento siempre y cuando estén acompañados
              por un adulto. Además, se requiere la firma de un documento de responsabilidad por
              parte del adulto. <a
                class="bg-primary-light hover:text-primary inline-block max-w-full rounded-lg p-1 px-2 text-center break-words text-theme-blue transition hover:bg-white/85 ml-1"
                href="/hoja-de-responsabilidad.pdf"
                target="_blank"
                rel="noopener noreferrer"
                data-download-document>Descarga el documento y llévalo firmado al evento.</a
              >
            </dd>
            <div class="opacity-100 transition-all duration-500 ease-in-out" data-wave-saparator-primary>
              <WaveSeparator bottomColor="var(--color-primary)" />
            </div>
            <div class="opacity-0" data-wave-saparator-cyan>
              <WaveSeparator bottomColor="var(--color-theme-cyan)" />
            </div>
          </div>

          <div class="flex flex-col justify-between items-start gap-10 lg:flex-row">
            <div class="bg-theme-blue rounded-t-xl relative" data-card-faq>
              <dt class="font-semibold text-white px-4 pt-4">¿Cuántos días va a durar?</dt>
              <hr class="my-2 mx-4 text-primary" data-card-hr />
              <dd class="mt-1 max-w-2xl text-sm text-pretty text-pink-100 px-4 pb-6">
                Son dos días, el 14 y 15 de junio de 2025.
              </dd>
              <div class="opacity-100 transition-all duration-500 ease-in-out" data-wave-saparator-primary>
                <WaveSeparator bottomColor="var(--color-primary)" />
              </div>
              <div class="opacity-0" data-wave-saparator-cyan>
                <WaveSeparator bottomColor="var(--color-theme-cyan)" />
              </div>
            </div>
  
            <div class="bg-theme-blue rounded-t-xl relative" data-card-faq>
              <dt class="font-semibold text-white px-4 pt-4">¿Dónde se celebra?</dt>
              <hr class="my-2 mx-4 text-primary" data-card-hr />
              <dd class="mt-1 max-w-2xl text-sm text-pretty text-pink-100 px-4 pb-6">
                En el parque Aquopolis de Madrid, en Villanueva de la Cañada.
              </dd>
              <div class="opacity-100 transition-all duration-500 ease-in-out" data-wave-saparator-primary>
                <WaveSeparator bottomColor="var(--color-primary)" />
              </div>
              <div class="opacity-0" data-wave-saparator-cyan>
                <WaveSeparator bottomColor="var(--color-theme-cyan)" />
              </div>
            </div>
          </div>

          <div class="flex flex-col justify-between items-start gap-10 lg:flex-row">
            <div class="bg-theme-blue rounded-t-xl relative" data-card-faq>
              <dt class="font-semibold text-white px-4 pt-4">¿Asistirá Lola Lolita?</dt>
              <hr class="my-2 mx-4 text-primary" data-card-hr />
              <dd class="mt-1 max-w-2xl text-sm text-pretty text-pink-100 px-4 pb-6">
                Sí, Lola Lolita estará allí con unas cuantas sorpresas.
              </dd>
              <div class="opacity-100 transition-all duration-500 ease-in-out" data-wave-saparator-primary>
                <WaveSeparator bottomColor="var(--color-primary)" />
              </div>
              <div class="opacity-0" data-wave-saparator-cyan>
                <WaveSeparator bottomColor="var(--color-theme-cyan)" />
              </div>
            </div>
  
            <div class="bg-theme-blue rounded-t-xl relative" data-card-faq>
              <dt class="font-semibold text-white px-4 pt-4">
                ¿Hay comida para celíacos, veganos y vegetarianos?
              </dt>
              <hr class="my-2 mx-4 text-primary" data-card-hr />
              <dd class="mt-1 max-w-2xl text-sm text-pretty text-pink-100 px-4 pb-6">
                ¡Por supuesto que sí! Hay opciones para todos los gustos y necesidades. ¡Nadie se
                quedará sin disfrutar de este día!
              </dd>
              <div class="opacity-100 transition-all duration-500 ease-in-out" data-wave-saparator-primary>
                <WaveSeparator bottomColor="var(--color-primary)" />
              </div>
              <div class="opacity-0" data-wave-saparator-cyan>
                <WaveSeparator bottomColor="var(--color-theme-cyan)" />
              </div>
            </div>
          </div>
        </dl>
      </div>
    </div>
  </div>
</section>

<style>
  body:has(.card[data-color="have"]:hover) {
    background-color: #66dfff;
    transition: 0.5s ease-in-out;
  }

  body:has(.card[data-color="have"]:hover) h2,
  body:has(.card[data-color="have"]:hover) dt,
  body:has(.card[data-color="have"]:hover) dd,
  body:has(.card[data-color="have"]:hover) a {
    color: #37373d;
  }
  
  body:has(.card[data-color="have"]:hover) [data-card-faq] {
    background-color: var(--color-primary-light);
  }
  
  body:has(.card[data-color="have"]:hover) [data-download-document] {
    background-color: var(--color-theme-cyan);
  }
  
  body:has(.card[data-color="have"]:hover) [data-card-hr] {
    color: var(--color-theme-cyan);
  }
  
  body:has(.card[data-color="have"]:hover) [data-wave-saparator-primary] {
    opacity: 0;
    transition: 0.5s ease-in-out;
  }
  
  body:has(.card[data-color="have"]:hover) [data-wave-saparator-cyan] {
    opacity: 1;
    transition: 0.5s ease-in-out;
  }

  .card {
    background-size: cover;
    background-position: center;
    position: relative;
    outline: none;
  }

  .card .card-front-image {
    position: relative;
    z-index: 2;
  }

  .card .card-image {
    width: clamp(300px, 20vw, 500px);
    aspect-ratio: 2 / 3;
    border-radius: clamp(0.5rem, 0.75vw, 2rem);
  }

  .card-faders {
    height: 100%;
    width: 100%;
    position: absolute;
    left: 0px;
    top: 0px;
    z-index: 1;
    opacity: 0;
    transition: opacity 1500ms;
    pointer-events: none;
  }

  .card:hover .card-faders {
    opacity: 1;
  }

  .card-fader {
    position: absolute;
    left: 0px;
    top: 0px;
  }

  .card-fader:nth-child(odd) {
    animation: fade-left 3s linear infinite;
  }

  .card-fader:nth-child(even) {
    animation: fade-right 3s linear infinite;
  }

  .card-fader:is(:nth-child(3), :nth-child(4)) {
    animation-delay: 750ms;
  }

  .card-fader:is(:nth-child(5), :nth-child(6)) {
    animation-delay: 1500ms;
  }

  .card-fader:is(:nth-child(7), :nth-child(8)) {
    animation-delay: 2250ms;
  }

  @media (max-width: 1200px) {
    .card .card-image {
      width: 400px;
    }
  }

  @media (max-width: 600px) {
    .card {
      width: 80%;
    }

    .card .card-image {
      width: 100%;
    }
  }

  @keyframes fade-left {
    from {
      scale: 1;
      translate: 0%;
      opacity: 1;
    }

    to {
      scale: 0.8;
      translate: -30%;
      opacity: 0;
    }
  }

  @keyframes fade-right {
    from {
      scale: 1;
      translate: 0%;
      opacity: 1;
    }

    to {
      scale: 0.8;
      translate: 30%;
      opacity: 0;
    }
  }

  .magic-star {
    --size: clamp(20px, 1.5vw, 30px);

    animation: scale 700ms ease forwards;
    display: block;
    height: var(--size);
    left: var(--star-left);
    position: absolute;
    top: var(--star-top);
    width: var(--size);
  }

  .magic > .magic-star > svg {
    animation: rotate 1000ms linear infinite;
    display: block;
    opacity: 0.7;
  }

  .magic > .magic-star > svg > path {
    fill: #dfdf18;
  }

  .magic > .magic-text {
    animation: background-pan 3s linear infinite;
    background: linear-gradient(to right, #383acf, #61e2e5, #383acf, #383acf);
    background-size: 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    white-space: nowrap;
  }
</style>

<script>
  let index = 0
  let interval = 1000

  const rand = (min: number, max: number) => Math.floor(Math.random() * (max - min + 1)) + min

  const animate = (star: HTMLElement) => {
    star.style.setProperty("--star-left", `${rand(-10, 100)}%`)
    star.style.setProperty("--star-top", `${rand(-40, 80)}%`)

    star.style.animation = "none"
    star.offsetHeight
    star.style.animation = ""
  }

  for (const star of document.getElementsByClassName(
    "magic-star"
  ) as HTMLCollectionOf<HTMLElement>) {
    setTimeout(
      () => {
        animate(star)

        setInterval(() => animate(star), 1000)
      },
      index++ * (interval / 3)
    )
  }
</script>
