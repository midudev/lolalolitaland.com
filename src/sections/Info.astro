---
import { Image } from "astro:assets"
import CalendarImage from "@/assets/images/calendario.webp"
---

<div class="mx-auto mt-24 max-w-2xl p-4 pb-32 lg:max-w-6xl">
  <div
    class="mx-auto flex flex-row items-center justify-center gap-x-4 text-lg font-semibold tracking-tight text-balance text-gray-950 md:gap-x-8 md:text-2xl lg:text-3xl xl:text-4xl"
  >
    <div class="shrink-0">
      <img
        class="mx-auto inline-block size-20 rounded-full md:size-28"
        src="/avatar.webp"
        alt="Lola Lolita"
      />
    </div>
    <span class="inline-block py-4 text-left text-white md:py-6 lg:py-8">
      ¿Estáis preparados para
      <br />
      pasar
      <span class="magic relative inline-block">
        <span class="magic-star">
          <svg viewBox="0 0 512 512">
            <path
              d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z"
            ></path>
          </svg>
        </span>
        <span class="magic-star">
          <svg viewBox="0 0 512 512">
            <path
              d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z"
            ></path>
          </svg>
        </span>
        <span class="magic-star">
          <svg viewBox="0 0 512 512">
            <path
              d="M512 255.1c0 11.34-7.406 20.86-18.44 23.64l-171.3 42.78l-42.78 171.1C276.7 504.6 267.2 512 255.9 512s-20.84-7.406-23.62-18.44l-42.66-171.2L18.47 279.6C7.406 276.8 0 267.3 0 255.1c0-11.34 7.406-20.83 18.44-23.61l171.2-42.78l42.78-171.1C235.2 7.406 244.7 0 256 0s20.84 7.406 23.62 18.44l42.78 171.2l171.2 42.78C504.6 235.2 512 244.6 512 255.1z"
            ></path>
          </svg>
        </span>
        <span class="magic-text">dos días inolvidables</span>?
      </span>
    </span>
  </div>
  <div
    class="view-animate-[--subjectReveal] animate-zoom-in animate-range-[entry_0%_cover_20%] grid scroll-mt-[31rem] grid-cols-1 gap-4 pt-10 sm:mt-4 md:scroll-mt-[34rem] lg:scroll-mt-[26rem] lg:grid-cols-6"
    id="info"
  >
    <div class="relative lg:col-span-3">
      <div
        class="relative flex h-full flex-col overflow-hidden rounded-[calc(var(--radius-lg)+1px)] bg-white max-lg:rounded-t-[calc(2rem+1px)] lg:rounded-tl-[calc(2rem+1px)] lg:rounded-bl-[calc(2rem+1px)]"
      >
        <div class="relative h-80 w-full overflow-hidden">
          <Image
            class="relative h-full w-full object-cover object-[85%_center] [mask-image:linear-gradient(to_bottom,black_80%,transparent_100%)] sm:object-center"
            src={CalendarImage}
            width={672}
            height={320}
            alt="Calendario con la fecha del evento Lola Lolita Land 14 y 15 de junio de 2025"
          />
        </div>
        <div class="p-4 pt-4 sm:p-6 md:p-8 lg:p-10">
          <h3 class="text-primary text-center text-sm/4 font-semibold lg:text-left">
            14 y 15 de junio
          </h3>
          <p
            class="mx-auto mt-2 max-w-[50ch] text-center text-xs/5 text-balance text-pretty text-gray-600 sm:text-sm/6 lg:mx-0 lg:text-left"
          >
            Apunta en tu calendario, porque LolaLolita Land abre sus puertas el 14 y 15 de junio
            para darle la bienvenida al verano.
          </p>
          <div class="mt-4 flex justify-start gap-2">
            <a
              class="group inline-flex min-h-[38px] w-full items-center justify-center space-x-1 rounded-lg bg-gradient-to-br from-[#ff0695]/90 to-[#ff0695] p-1 px-3 text-center text-xs/4 break-words text-white shadow-[inset_0px_0px_8px_rgba(255,255,255,0.2)] transition-all duration-300 ease-out hover:scale-105 hover:from-[#ff0695] hover:to-[#ff0695]/90 hover:shadow-[inset_0px_0px_12px_rgba(255,255,255,0.3)] active:scale-100 lg:w-auto"
              href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Lola+Lolita+Land+🌸&dates=20250614/20250616&details=La+experiencia+más+refrescante.&location=Aquopolis+Villanueva+de+la+Cañada"
              target="_blank"
              rel="noopener noreferrer"
            >
              <svg
                class="transition-opacity"
                xmlns="http://www.w3.org/2000/svg"
                x="0px"
                y="0px"
                width="30"
                height="30"
                viewBox="0 0 48 48"
              >
                <rect width="22" height="22" x="13" y="13" fill="#fff"></rect>
                <polygon
                  fill="#1e88e5"
                  points="25.68,20.92 26.688,22.36 28.272,21.208 28.272,29.56 30,29.56 30,18.616 28.56,18.616"
                ></polygon>
                <path
                  fill="#1e88e5"
                  d="M22.943,23.745c0.625-0.574,1.013-1.37,1.013-2.249c0-1.747-1.533-3.168-3.417-3.168 c-1.602,0-2.972,1.009-3.33,2.453l1.657,0.421c0.165-0.664,0.868-1.146,1.673-1.146c0.942,0,1.709,0.646,1.709,1.44 c0,0.794-0.767,1.44-1.709,1.44h-0.997v1.728h0.997c1.081,0,1.993,0.751,1.993,1.64c0,0.904-0.866,1.64-1.931,1.64 c-0.962,0-1.784-0.61-1.914-1.418L17,26.802c0.262,1.636,1.81,2.87,3.6,2.87c2.007,0,3.64-1.511,3.64-3.368 C24.24,25.281,23.736,24.363,22.943,23.745z"
                ></path>
                <polygon fill="#fbc02d" points="34,42 14,42 13,38 14,34 34,34 35,38"></polygon>
                <polygon fill="#4caf50" points="38,35 42,34 42,14 38,13 34,14 34,34"></polygon>
                <path fill="#1e88e5" d="M34,14l1-4l-1-4H9C7.343,6,6,7.343,6,9v25l4,1l4-1V14H34z"
                ></path>
                <polygon fill="#e53935" points="34,34 34,42 42,34"></polygon>
                <path fill="#1565c0" d="M39,6h-5v8h8V9C42,7.343,40.657,6,39,6z"></path>
                <path fill="#1565c0" d="M9,42h5v-8H6v5C6,40.657,7.343,42,9,42z"></path>
              </svg>
              <span>Añadir a Google Calendar</span>
            </a>

            <a
              class="group inline-flex min-h-[38px] w-full items-center justify-center space-x-1 rounded-lg bg-gradient-to-br from-[#ff0695]/90 to-[#ff0695] p-1 px-3 text-center text-xs/4 break-words text-white shadow-[inset_0px_0px_8px_rgba(255,255,255,0.2)] transition-all duration-300 ease-out hover:scale-105 hover:from-[#ff0695] hover:to-[#ff0695]/90 hover:shadow-[inset_0px_0px_12px_rgba(255,255,255,0.3)] active:scale-100 lg:w-auto"
              href="/events/lolalolitaland.ics"
              download="lolalolitaland.ics"
              target="_blank"
              rel="noopener noreferrer"
            >
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30" viewBox="0 0 48 48">
              <path fill="#eceff1" d="M15.556,43h16.889C38.274,43,43,38.274,43,32.444V15.556C43,9.726,38.274,5,32.444,5H15.556 C9.726,5,5,9.726,5,15.556v16.889C5,38.274,9.726,43,15.556,43z"></path><path fill="#ff3d00" d="M20.868,13.77L21.437,10h1.199l-1.067,6h-1.215l-0.7-3.536L18.96,16h-1.22l-1.071-6h1.207 l0.565,3.766L19.145,10h1.018L20.868,13.77z"></path><path fill="#ff3d00" d="M26.39,13.404h-1.887v1.591h2.234V16h-3.446v-6h3.437v1.009h-2.225v1.418h1.887V13.404z"></path><path fill="#ff3d00" d="M27.433,16v-6h1.587c0.7,0,1.259,0.223,1.675,0.667c0.416,0.445,0.628,1.055,0.636,1.83v0.973 c0,0.788-0.208,1.407-0.625,1.857C30.291,15.775,29.717,16,28.986,16H27.433z M28.645,11.009v3.985h0.363 c0.404,0,0.688-0.106,0.853-0.319c0.165-0.213,0.252-0.58,0.26-1.102V12.53c0-0.56-0.079-0.951-0.235-1.173 c-0.157-0.221-0.423-0.337-0.8-0.348H28.645z"></path><path fill="#424242" d="M23.211,36.004h-9.884V33.7l4.539-5.771c0.576-0.799,1-1.5,1.273-2.103 c0.273-0.603,0.409-1.181,0.409-1.734c0-0.745-0.128-1.329-0.386-1.751c-0.257-0.422-0.628-0.633-1.112-0.633 c-0.53,0-0.95,0.246-1.261,0.737c-0.311,0.492-0.467,1.183-0.467,2.074H13.05c0-1.029,0.213-1.97,0.639-2.823 c0.426-0.853,1.025-1.515,1.797-1.987C16.258,19.236,17.132,19,18.107,19c1.498,0,2.659,0.413,3.485,1.239 c0.826,0.826,1.239,1.999,1.239,3.52c0,0.944-0.229,1.903-0.685,2.874c-0.457,0.972-1.285,2.168-2.483,3.588l-2.154,3.076h5.702 V36.004z"></path><path fill="#424242" d="M34.662,23.689c0,0.814-0.173,1.536-0.519,2.166c-0.346,0.63-0.822,1.133-1.428,1.509 c0.691,0.392,1.237,0.931,1.636,1.619c0.399,0.687,0.599,1.496,0.599,2.425c0,1.49-0.43,2.667-1.29,3.531 c-0.86,0.864-2.032,1.296-3.514,1.296s-2.661-0.432-3.537-1.296c-0.875-0.864-1.313-2.041-1.313-3.531 c0-0.929,0.199-1.739,0.599-2.43c0.399-0.691,0.949-1.229,1.648-1.613c-0.615-0.376-1.094-0.879-1.44-1.509 c-0.346-0.63-0.519-1.351-0.519-2.166c0-1.467,0.411-2.615,1.233-3.445C27.638,19.415,28.741,19,30.123,19 c1.398,0,2.504,0.419,3.318,1.256C34.255,21.093,34.662,22.237,34.662,23.689z M30.146,33.527c0.491,0,0.87-0.21,1.135-0.628 c0.265-0.418,0.397-1,0.397-1.745s-0.138-1.328-0.415-1.751s-0.657-0.634-1.14-0.634c-0.484,0-0.866,0.211-1.146,0.634 s-0.421,1.006-0.421,1.751s0.14,1.327,0.421,1.745C29.257,33.318,29.647,33.527,30.146,33.527z M31.413,23.861 c0-0.653-0.106-1.175-0.317-1.566c-0.211-0.392-0.535-0.588-0.973-0.588c-0.415,0-0.73,0.19-0.944,0.57 c-0.215,0.38-0.323,0.908-0.323,1.584c0,0.661,0.108,1.192,0.323,1.596c0.215,0.403,0.537,0.605,0.967,0.605 c0.43,0,0.749-0.202,0.956-0.605C31.309,25.054,31.413,24.522,31.413,23.861z"></path>
              </svg>
              <span>Añadir a Apple Calendar</span>
            </a>
          </div>
        </div>
      </div>
      <div
        class="pointer-events-none absolute inset-px rounded-lg shadow-sm ring-1 ring-black/5 max-lg:rounded-t-[2rem] lg:rounded-tl-[2rem] lg:rounded-bl-[2rem]"
      >
      </div>
    </div>
    <div class="relative lg:col-span-3">
      <div
        class="relative flex h-full flex-col overflow-hidden rounded-[calc(var(--radius-lg)+1px)] bg-white lg:rounded-tr-[calc(2rem+1px)] lg:rounded-br-[calc(2rem+1px)]"
      >
        <div class="relative h-80 w-full overflow-hidden">
          <img
            class="relative h-full w-full object-cover object-center [mask-image:linear-gradient(to_bottom,black_80%,transparent_100%)]"
            src="/images/aquopolis.webp"
            alt=""
          />
        </div>
        <div class="p-4 pt-4 sm:p-6 md:p-8 lg:p-10">
          <h3 class="text-primary text-center text-sm/4 font-semibold lg:text-left">
            La experiencia más refrescante
          </h3>
          <p
            class="mx-auto mt-2 max-w-[50ch] text-center text-xs/5 text-balance text-pretty text-gray-600 sm:text-sm/6 lg:mx-0 lg:text-left"
          >
            Este año Lola Lolita Land se celebra en Aquopolis, Madrid, un parque acuático lleno de
            toboganes y piscinas.
          </p>
          <div class="mt-4 flex flex-col items-stretch gap-2 lg:flex-row lg:items-center lg:gap-4">
            <a
              class="group inline-flex min-h-[38px] w-full items-center justify-center space-x-1 rounded-lg bg-gradient-to-br from-[#ff0695]/90 to-[#ff0695] p-1 px-3 text-center text-xs/4 break-words text-white shadow-[inset_0px_0px_8px_rgba(255,255,255,0.2)] transition-all duration-300 ease-out hover:scale-105 hover:from-[#ff0695] hover:to-[#ff0695]/90 hover:shadow-[inset_0px_0px_12px_rgba(255,255,255,0.3)] active:scale-100 lg:flex-1"
              href="https://villanueva.aquopolis.es/condiciones-de-contratacion"
              target="_blank"
              rel="noopener noreferrer"
            >
              <svg
                class="text-white transition-all"
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M14 3v4a1 1 0 0 0 1 1h4"></path>
                <path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z"></path>
                <path d="M9 9h1"></path>
                <path d="M9 13h6"></path>
                <path d="M9 17h6"></path>
              </svg>
              <span>Condiciones de contratación</span>
            </a>
            <a
              class="group inline-flex min-h-[38px] w-full items-center justify-center space-x-1 rounded-lg bg-gradient-to-br from-[#ff0695]/90 to-[#ff0695] p-1 px-3 text-center text-xs/4 break-words text-white shadow-[inset_0px_0px_8px_rgba(255,255,255,0.2)] transition-all duration-300 ease-out hover:scale-105 hover:from-[#ff0695] hover:to-[#ff0695]/90 hover:shadow-[inset_0px_0px_12px_rgba(255,255,255,0.3)] active:scale-100 lg:flex-1"
              href="https://villanueva.aquopolis.es/normas-de-funcionamiento"
              target="_blank"
              rel="noopener noreferrer"
            >
              <svg
                class="text-white transition-all"
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M12 16v-4"></path>
                <path d="M12 8h.01"></path>
              </svg>
              <span>Normas de funcionamiento</span>
            </a>
          </div>
        </div>
      </div>
      <div
        class="pointer-events-none absolute inset-px rounded-lg shadow-sm ring-1 ring-black/5 lg:rounded-tr-[2rem] lg:rounded-br-[2rem]"
      >
      </div>
    </div>
  </div>
</div>

<script>
  let index = 0
  let interval = 1000

  const rand = (min: number, max: number) => Math.floor(Math.random() * (max - min + 1)) + min

  const animate = (star: HTMLElement) => {
    star.style.setProperty("--star-left", `${rand(-10, 100)}%`)
    star.style.setProperty("--star-top", `${rand(-40, 80)}%`)

    star.style.animation = "none"
    star.offsetHeight
    star.style.animation = ""
  }

  for (const star of document.getElementsByClassName(
    "magic-star"
  ) as HTMLCollectionOf<HTMLElement>) {
    setTimeout(
      () => {
        animate(star)

        setInterval(() => animate(star), 1000)
      },
      index++ * (interval / 3)
    )
  }
</script>

<style>
  /* letter animation START  */
  .magic-star {
    --size: clamp(20px, 1.5vw, 30px);
    animation: scale 700ms ease forwards;
    display: block;
    height: var(--size);
    left: var(--star-left);
    position: absolute;
    top: var(--star-top);
    width: var(--size);
  }

  .magic > .magic-star > svg {
    animation: rotate 1000ms linear infinite;
    display: block;
    opacity: 0.7;
  }

  .magic > .magic-star > svg > path {
    fill: #dfdf18;
  }

  .magic > .magic-text {
    animation: background-pan 3s linear infinite;
    background: linear-gradient(to right, #383acf, #61e2e5, #383acf, #383acf);
    background-size: 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    white-space: nowrap;
  }
</style>
